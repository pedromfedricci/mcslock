[package]
description = """
An implementation of Mellor-Crummey and Scott contention-free
spin-lock for mutual exclusion, referred to as MCS lock.
"""
name = "mcslock"
version = "0.1.0"
edition = "2021"
rust-version = "1.60.0"
license = "MIT OR Apache-2.0"
readme = "README.md"
# documentation = "https://docs.rs/mcslock"
# homepage = "https://crates.io/mcslock"
repository = "https://github.com/pedromfedricci/mcslock"
authors = ["Pedro de Matos Fedricci <pedromfedricci@gmail.com>"]
categories = ["no-std", "no-std::no-alloc", "concurrency"]
keywords = ["no_std", "mutex", "spin-lock", "mcs-lock"]

[workspace]
members = [".", "benches"]

[features]
# The `yield` feature requires linking with std.
yield = []
# The `thread_local` feature requires linking with std.
thread_local = []
# The `lock_api` feature requires linking with std.
lock_api = [ "thread_local", "dep:lock_api" ]

[dependencies]
lock_api = { version = "0.4", default-features = false, optional = true }

[target.'cfg(loom)'.dev-dependencies]
loom = { version = "0.7" }

[package.metadata.docs.rs]
all-features = true
rustdoc-args = ["--cfg", "docsrs"]

[[example]]
name = "lock_api"
required-features = ["thread_local", "lock_api"]
